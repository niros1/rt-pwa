(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2mxz":function(n,e,t){"use strict";var l;t.d(e,"b",function(){return l}),t.d(e,"a",function(){return i}),t.d(e,"c",function(){return r}),function(n){n.WALK="walk",n.CAR="car"}(l||(l={}));var i=function(n){return n[n.Ride=0]="Ride",n[n.PublicTransportation=1]="PublicTransportation",n}({}),r=function(n){return n[n.PickUp=0]="PickUp",n[n.ConfirmedPickUp=1]="ConfirmedPickUp",n[n.All=2]="All",n}({})},"5EeN":function(n,e,t){"use strict";var l=t("CcnG"),i=t("a4Z+"),r=t("8Kc4"),o=t("/yY+"),a=t("A7o+"),u=function(){return function(){}}(),c=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{padding:.2em .7rem 0;width:100%}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.body[_ngcontent-%COMP%]{margin:1rem 1rem 0;color:#393c46;font-size:1.1rem}.destination-container[_ngcontent-%COMP%], .pickUp-container[_ngcontent-%COMP%]{display:flex}.destination-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .pickUp-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 0 .9rem .9rem;position:relative;top:-.4rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pickUp-container[_ngcontent-%COMP%]{border-left:1px dashed #cdced0}.destination-point[_ngcontent-%COMP%], .pickUp-point[_ngcontent-%COMP%]{position:absolute;height:.5rem;width:.5rem;border-radius:50%;display:inline-block;margin-left:-.29rem}.pickUp-point[_ngcontent-%COMP%]{background-color:#00afaa;box-shadow:0 0 0 3px rgba(0,175,170,.14)}.destination-point[_ngcontent-%COMP%]{background-color:#393c46;box-shadow:0 0 0 3px #e1e1e1}"]],data:{}});function s(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","larger dark bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef]),(n()(),l["\u0275eld"](4,0,null,null,1,"div",[["class","light"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),(n()(),l["\u0275eld"](6,0,null,null,8,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,3,"div",[["class","pickUp-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"span",[["class","pickUp-point"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](10,null,["",""])),(n()(),l["\u0275eld"](11,0,null,null,3,"div",[["class","destination-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,0,"span",[["class","destination-point"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""]))],null,function(n,e){var t=e.component;n(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform("rideDetails"))),n(e,5,0,t.date),n(e,10,0,t.pickUp),n(e,14,0,t.destination)})}var p=t("Roc6"),d=t("Ip0R"),f=t("VNI8"),m=t("w4cN"),g=t("nmfW"),h=t("9or0");t("8L+Q"),t("eaEI"),t("ZYCi"),t.d(e,"a",function(){return v}),t.d(e,"b",function(){return w});var v=l["\u0275crt"]({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 .9rem}.body[_ngcontent-%COMP%]{display:flex;padding:0 .5rem;border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2}.body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;padding:.2rem .4rem}.body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:25px}.body[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{color:#9b9da2;flex:1;align-items:center;justify-content:space-between}.body[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap}.body[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .fixed-or-range[_ngcontent-%COMP%]{font-size:.7rem}.body[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]{display:flex;flex-direction:column}.body[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex}.body[_ngcontent-%COMP%]   .payment-container[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto 0 auto auto;max-width:unset;width:35%}.body[_ngcontent-%COMP%]   .passengers-container[_ngcontent-%COMP%]{border-left:1px solid #f2f2f2;border-right:1px solid #f2f2f2}.body[_ngcontent-%COMP%]   .passengers[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .suitcases[_ngcontent-%COMP%]{padding:0 .3rem;margin:auto}.cancel-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.cancel-container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{background-color:#393c46;width:90%;margin:1rem 1rem .5rem;text-align:center;border-radius:3px}.cancel-container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]     button.here-button{width:100%;color:#fff;border:0;border-radius:4px;font-size:1rem;font-family:inherit;line-height:initial}.terms-container[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:space-between;align-content:center;align-items:center;font-size:.7rem;margin-right:auto;margin-left:auto}.terms-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:999;color:#6a6d74;text-decoration:none}.terms-container[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;color:#393c46;font-size:.7rem}.terms-container[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:.3rem}.terms-container[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.1rem}.terms-container[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem}"]],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-card-driver-supplier-details",[],null,null,null,i.b,i.a)),l["\u0275did"](1,49152,null,0,r.a,[o.a],{driver:[0,"driver"],supplier:[1,"supplier"],vehicle:[2,"vehicle"]},null)],function(n,e){var t=e.component;n(e,1,0,t.ride.driver,t.ride.supplier,t.ride.vehicle)},null)}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"app-card-pickup-destination-details",[],null,null,null,s,c)),l["\u0275did"](1,49152,null,0,u,[],{date:[0,"date"],pickUp:[1,"pickUp"],destination:[2,"destination"]},null),l["\u0275ppd"](2,4),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef]),l["\u0275ppd"](4,1),l["\u0275ppd"](5,1)],function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,t.rideTime?n(e,2,0,l["\u0275nov"](e.parent,1),t.rideTime,t.locale.nameForPipes,t.ride.time_zone,!0):l["\u0275nov"](e,3).transform("now")),r=l["\u0275unv"](e,1,1,n(e,4,0,l["\u0275nov"](e.parent,0),t.ride.route.pickup)),o=l["\u0275unv"](e,1,2,n(e,5,0,l["\u0275nov"](e.parent,0),t.ride.route.destination));n(e,1,0,i,r,o)},null)}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","fixed-or-range"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[""," "])),l["\u0275ppd"](2,3),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef])],null,function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,l["\u0275nov"](e,3).transform(t.getFixedOrRangeText(l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,2),t.ride.price||t.ride.booking_estimated_price,t.locale.nameForPipes,t.pricePipeTramslation)))));n(e,1,0,i)})}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef])],null,function(n,e){n(e,1,0,l["\u0275unv"](e,1,0,l["\u0275nov"](e,2).transform("ridePayMethod")))})}function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"img",[["alt","card"],["appImgError",""]],[[8,"src",4]],[[null,"error"]],function(n,e,t){var i=!0;return"error"===e&&(i=!1!==l["\u0275nov"](n,1).hideMe(t)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,p.a,[l.ElementRef],null,null)],null,function(n,e){var t=e.component;n(e,0,0,t.CardIcon[t.ride.payment.pay_method.card.brand])})}function M(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","payment-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","payment"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](3,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,3,"span",[["class","bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](7,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.ride.payment.pay_method.card.last_4_digits||t.CardIcon[t.ride.payment.pay_method.card.brand]),n(e,7,0,t.CardIcon[t.ride.payment.pay_method.card.brand])},function(n,e){n(e,5,0,e.component.ride.payment.pay_method.card.last_4_digits)})}function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","cancel-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","btn-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"hwc-button",[["class","btn"],["data-testid","cancel-btn"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onCancelClick()&&l),l},f.d,f.a)),l["\u0275did"](3,49152,null,0,m.a,[],null,null),(n()(),l["\u0275ted"](4,0,[""," "])),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef])],null,function(n,e){n(e,4,0,l["\u0275unv"](e,4,0,l["\u0275nov"](e,5).transform("cancelRide")))})}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","terms-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"span",[["class","powered-by"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["By"])),(n()(),l["\u0275eld"](4,0,null,null,0,"img",[["alt","Here Mobility"],["src","../../../assets/images/here.svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"a",[],[[8,"innerHTML",1]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.termsClick()&&l),l},null,null)),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef])],null,function(n,e){n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform("termsConditions")))})}function w(n){return l["\u0275vid"](2,[l["\u0275pid"](0,g.a,[]),l["\u0275pid"](0,h.a,[]),l["\u0275pid"](0,m.i,[m.y]),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","header"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](5,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](7,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](8,0,null,null,18,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,7,"div",[["class","price-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,4,"div",[["class","price large dark bold"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,1,"img",[["alt","tag"],["appImgError",""],["src","../../../assets/icons/tag.svg"]],null,[[null,"error"]],function(n,e,t){var i=!0;return"error"===e&&(i=!1!==l["\u0275nov"](n,12).hideMe(t)&&i),i},null,null)),l["\u0275did"](12,16384,null,0,p.a,[l.ElementRef],null,null),(n()(),l["\u0275eld"](13,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](16,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](18,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,3,"div",[["class","passengers-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,0,"img",[["alt","passengers"],["src","../../../assets/icons/passengers.svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"div",[["class","passengers large dark bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](22,null,["",""])),(n()(),l["\u0275eld"](23,0,null,null,3,"div",[["class","suitcases-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](24,0,null,null,0,"img",[["alt","suitcases"],["src","../../../assets/icons/suitcase.svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,1,"div",[["class","suitcases large dark bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](26,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](28,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](30,16384,null,0,d.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,5,0,t.ride.status!==t.RideStatus.CANCELLED),n(e,7,0,t.ride.status===t.RideStatus.CANCELLED),n(e,16,0,!t.ride.payment),n(e,18,0,null==t.ride?null:null==t.ride.payment?null:null==t.ride.payment.pay_method?null:t.ride.payment.pay_method.card),n(e,28,0,t.showCancel),n(e,30,0,t.showTermsAndConditions)},function(n,e){var t=e.component;n(e,14,0,t.formatPrice(t.ride)),n(e,22,0,t.ride.passengers_no),n(e,26,0,t.ride.suitcases_no)})}},"8L+Q":function(n,e,t){"use strict";t.d(e,"a",function(){return a});var l=t("mrSG"),i=(t("9or0"),t("eUgh")),r=t("HQqM"),o=t("/yY+"),a=(t("eaEI"),function(n){function e(e,t,l,i,r,a,u,c){var s=n.call(this,l,i)||this;return s.datetimeFormat=e,s.analytics=t,s.localizationService=l,s.translateService=i,s.route=r,s.router=a,s.priceFormatter=u,s.finalPriceFormatter=c,s.Events=o.b,s}return l.__extends(e,n),Object.defineProperty(e.prototype,"RideStatus",{get:function(){return i.d},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CardIcon",{get:function(){return r.a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackingId",{get:function(){return this.route.snapshot.params.ride_tracking_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rideTime",{get:function(){return this.ride.prebook_pickup_time_ms||this.ride.closed_time_ms||this.ride.cancellation_info&&this.ride.cancellation_info.request_time_ms},enumerable:!0,configurable:!0}),e.prototype.onCancelClick=function(){this.analytics.logEvent(o.b.RideTrackerCancelRide),this.router.navigate(["cancel-ride/"+encodeURIComponent(this.trackingId)])},e.prototype.getFixedOrRangeText=function(n){return"N/A"===n?"":n.indexOf("-")>=0?"estimatePrice":"fixedPrice"},e.prototype.termsClick=function(){this.analytics.logEvent(o.b.RideTrackerTermsAndConditionsClick)},Object.defineProperty(e.prototype,"notAvailable",{get:function(){return this.translateService.instant("notAvailable")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pricePipeTranslation",{get:function(){return{NA:this.notAvailable}},enumerable:!0,configurable:!0}),e.prototype.formatPrice=function(n){return n?n.payment&&n.payment.final_price&&n.payment.final_price.amount?this.finalPriceFormatter.transform(n.payment.final_price,this.locale.nameForPipes,this.pricePipeTranslation):n.price&&n.price.amount?this.finalPriceFormatter.transform(n.price,this.locale.nameForPipes,this.pricePipeTranslation):this.priceFormatter.transform(n.booking_estimated_price,this.locale.nameForPipes,this.pricePipeTranslation):this.notAvailable},e}(t("nOOO").a))},ISAC:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("mrSG"),i=(t("2mxz"),t("ZL7T"),t("eaEI"),function(n){function e(e,t,l){var i=n.call(this,l,t)||this;return i.mapService=e,i.translateService=t,i.localizationService=l,i.gradient=!0,i}return l.__extends(e,n),e.prototype.ngOnChanges=function(n){var e=this;n.zoomOn&&!n.zoomOn.firstChange&&this.mapService.zoomMapByRideStatus(n.zoomOn.currentValue),this.translateService.onLangChange.subscribe(function(n){e.mapService.switchMapLanguage(e.localizationService.getLanguage(n.lang))})},e.prototype.ngAfterViewInit=function(){this.mapService.createMap(document.getElementById("map"),this.routes,this.mode,this.zoomOn,{lang:this.locale.name,mapLng:this.locale.threeDigitsNameForMap,mapLngName:this.locale.nameForMap})},e}(t("nOOO").a))},Jmjp:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var l=t("2mxz"),i=t("CcnG"),r=function(){function n(){}return n.prototype.convertRideRouteToMapRoute=function(n,e){var t=n&&n.pickup,i=[{pickup:t,destination:n&&n.destination,type:l.b.CAR}];return e&&t&&(e.point.lat!==t.point.lat||e.point.lng!==t.point.lng)&&i.unshift({pickup:e,destination:t,type:l.b.WALK}),i},n.prototype.convertPublicRouteToMapRoute=function(n){return n.map(function(n){return{pickup:n.departure_address,destination:n.arrival_address,type:"WALK"===n.transportation_type?l.b.WALK:l.b.CAR}})},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},WYkX:function(n,e,t){"use strict";var l=t("CcnG"),i=t("Ip0R");t("ISAC"),t("ZL7T"),t("A7o+"),t("eaEI"),t.d(e,"a",function(){return r}),t.d(e,"b",function(){return a});var r=l["\u0275crt"]({encapsulation:0,styles:[["#map[_ngcontent-%COMP%]{width:100%;height:90%}#map[_ngcontent-%COMP%]     .H_zoom{display:none}#map[_ngcontent-%COMP%]     .confirmed-point-marker{display:flex;border-radius:3px;box-shadow:0 4px 7px 0 rgba(0,0,0,.19);background-color:#fff;position:relative;z-index:2;max-width:10rem;font-size:.8rem;font-weight:600;color:#393c46;padding:.2rem;margin-left:21px;margin-top:-1.7rem}#map[_ngcontent-%COMP%]     .confirmed-point-marker .icon-container{display:flex;align-items:flex-start}#map[_ngcontent-%COMP%]     .confirmed-point-marker .icon-container img{padding-top:2px;padding-left:2px}#map[_ngcontent-%COMP%]     .confirmed-point-marker .marker-title{color:#00afaa}#map[_ngcontent-%COMP%]     .confirmed-point-marker .address-container{margin-left:5px}#map[_ngcontent-%COMP%]     .confirmed-point-marker ::before{display:block;content:'';border:11px solid transparent;position:absolute;bottom:-22px;left:26px;z-index:0}#map[_ngcontent-%COMP%]     .confirmed-point-marker ::after{display:block;content:'';border:5px solid transparent;border-top:6px solid #fff;position:absolute;top:6px;left:-10px;-webkit-transform:rotate(90deg);transform:rotate(90deg);z-index:3}.fade[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:9rem;background-image:linear-gradient(to bottom,#f7f7f7 30%,rgba(255,255,255,0))}"]],data:{}});function o(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","fade"]],null,null,null,null,null))],null,null)}function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,o)),l["\u0275did"](1,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](2,0,null,null,0,"div",[["id","map"]],null,null,null,null,null))],function(n,e){n(e,1,0,e.component.gradient)},null)}},ZL7T:function(n,e,t){"use strict";t.d(e,"a",function(){return f});var l=t("XPHy"),i=t("2mxz"),r=t("nmfW"),o=t("CcnG"),a=t("A7o+"),u="#000000",c="#00afaa",s=3,p="../../assets/icons/map-location.svg",d="../../assets/icons/transportation-type/WALK.svg",f=function(){function n(n,e){var t=this;this.translate=n,this.getAddress=e,this.pickUpGroup=new H.map.Group,this.allObjectsGroup=new H.map.Group,this.pickUpAndConfirmedGroup=new H.map.Group,this.drawRoute=function(n,e){var t=n.shape,l=new H.geo.Strip;return t.forEach(function(n){var e=n.split(",");l.pushLatLngAlt(e[0],e[1])}),new H.map.Polyline(l,{style:{strokeColor:e===i.b.CAR?c:u,lineWidth:s,lineDash:e===i.b.CAR?[]:[5,10],lineDashOffset:1}})},this.onCalculateRouteSuccess=function(n){if(n.response&&n.response.route){try{t.allObjectsGroup.addObjects(n.response.route.map(function(e){return t.drawRoute(e,n.response.route[0].mode.transportModes[0])}))}catch(e){console.warn("error while drawRoute: ",e)}try{t.zoomMapByRideStatus(t.zoom)}catch(e){console.warn("error while getting bounds and zoom map",e)}}},this.appId=l.a.MAP_PARAMS.APP_ID,this.appCode=l.a.MAP_PARAMS.APP_CODE,this.platform=new H.service.Platform({app_id:this.appId,app_code:this.appCode,useHTTPS:!0,useCIT:!1,ppi:320})}return Object.defineProperty(n.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),n.prototype.createMap=function(n,e,t,l,i){this.resetGroups(),this.zoom=l,this.mapMode=t,this.defaultLayers=this.platform.createDefaultLayers(512,320,i.mapLng),this._map=new H.Map(n,this.defaultLayers.normal.map,{pixelRatio:2,imprint:{locale:i.lang}}),new H.mapevents.Behavior(new H.mapevents.MapEvents(this._map)),this.uii=H.ui.UI.createDefault(this._map,this.defaultLayers,i.mapLngName),this.uii.getControl("mapsettings").setAlignment("top-left"),this.uii.getControl("scalebar").setAlignment("top-left"),e&&e[0]&&e[0].pickup&&this._map.setCenter(e[0].pickup.point),this.resizeMap(this._map),this.createRoute(e,t)},n.prototype.switchMapLanguage=function(n){var e=this.platform.getMapTileService({type:"base"}).createTileLayer("maptile","normal.day",512,"png8",{lg:n.threeDigitsNameForMap,ppi:320});this._map.setBaseLayer(e),this.uii=H.ui.UI.createDefault(this._map,this.defaultLayers,n.nameForMap),this.uii.removeControl("mapsettings")},n.prototype.resetGroups=function(){this.pickUpGroup=new H.map.Group,this.allObjectsGroup=new H.map.Group,this.pickUpAndConfirmedGroup=new H.map.Group},n.prototype.resize=function(n){n.getViewPort&&"function"==typeof n.getViewPort&&n.getViewPort().resize()},n.prototype.resizeMap=function(n){var e=this;window.addEventListener("resize",function(){return e.resize(n)})},n.prototype.createMarker=function(n,e,t){var l=[];if(n&&n.point.lat&&n.point.lng){if(n.address&&t===i.a.Ride){var r=new H.map.DomIcon('<div class="confirmed-point-marker">\n          <div class="icon-container">\n            <img alt="location" src="../../assets/icons/tiny_'+(e.indexOf("location")>-1?"location":"flag")+'.svg">\n          </div>\n          <div class="address-container">\n            <div class="marker-address">'+this.getAddress.transform(n)+"</div>\n          </div>\n        </div>"),o=new H.map.DomMarker(n.point,{icon:r});l.push(o)}var a=new H.map.Icon(e,{size:{w:48,h:56}}),u=new H.map.Marker({lat:n.point.lat,lng:n.point.lng},{icon:a});return l.push(u),l}console.warn("create marker called with invalid coordinate",n)},n.prototype.zoomMapByRideStatus=function(n){var e;switch(n){case i.c.PickUp:e=this.pickUpGroup.getBounds();break;case i.c.ConfirmedPickUp:e=this.pickUpAndConfirmedGroup.getBounds();break;default:e=this.allObjectsGroup.getBounds()}var t=this._map.getCameraDataForBounds(e);this._map.setCenter({lat:t.position.lat,lng:t.position.lng}),this._map.setZoom(Math.floor(t.zoom)-.2,!0),this._map.getViewPort().setPadding(60,0,this.mapMode===i.a.PublicTransportation?200:0,0)},n.prototype.drawPath=function(n){for(var e=this,t=0,l=n||[];t<l.length;t++){var r=l[t];if(r.pickup&&r.destination){var o={mode:r.type===i.b.WALK?"shortest;pedestrian":"fastest;car",waypoint0:r.pickup.point.lat+","+r.pickup.point.lng,waypoint1:r.destination.point.lat+","+r.destination.point.lng,representation:"display"};this.platform.getRoutingService().calculateRoute(o,function(n){return e.onCalculateRouteSuccess(n)},function(n){return console.error(n.message)})}else console.warn("invalid route",r)}},n.prototype.setPickupAndDestinationMarkers=function(n,e){n&&n.length&&(this.pickUpGroup.addObjects(this.createMarker(n[0].pickup,p,e)),this.pickUpAndConfirmedGroup.addObjects(this.createMarker(n[0].pickup,p,e)),this.allObjectsGroup.addObjects(this.createMarker(n[0].pickup,p,e)),this.allObjectsGroup.addObjects(this.createMarker(n[n.length-1].destination,"../../assets/icons/map-destination.svg",e)))},n.prototype.setWalkingMarker=function(n){this.pickUpAndConfirmedGroup.addObjects(this.createMarker(n.pickup,d)),this.allObjectsGroup.addObjects(this.createMarker(n.pickup,d))},n.prototype.createRoute=function(n,e){switch(e){case i.a.Ride:n&&n[0]&&n[0].type===i.b.WALK&&this.setWalkingMarker(n[0]),this.setPickupAndDestinationMarkers(n&&n.filter(function(n){return n.type===i.b.CAR}),e);break;case i.a.PublicTransportation:this.setPickupAndDestinationMarkers(n,e)}this._map.addObject(this.allObjectsGroup),this.drawPath(n)},n.ngInjectableDef=o.defineInjectable({factory:function(){return new n(o.inject(a.j),o.inject(r.a))},token:n,providedIn:"root"}),n}()}}]);